# Описание продукта perfecto
Продукт для удобного проведения перформанс ревью для команд в IT-компаниях.
Стек: backend: django, django rest
frontend: django template language, htmx, bulma

Требования к коду:
	1.	Разделение ответственности
	•	Каждый класс/функция должен решать строго одну задачу.
	•	Код должен следовать принципам SOLID, особенно:
	•	Single Responsibility Principle (SRP)
	•	Open-Closed Principle (OCP)
	•	Dependency Inversion Principle (DIP)
	•	Использовать интерфейсы (абстрактные классы) там, где возможны разные реализации.
	2.	Низкая связанность (Low Coupling)
	•	Минимизировать прямые зависимости между модулями.
	•	Взаимодействие между компонентами через контракты (интерфейсы).
	•	Избегать жестких зависимостей, использовать Dependency Injection (DI).
	3.	Высокая связность (High Cohesion)
	•	Логически связанный код должен находиться в одном модуле.
	•	Избегать “божественных объектов” (God Objects).
	4.	Согласованность (Consistency)
	•	Следовать одному стилю именования (PEP 8 для Python).
	•	Использовать типизацию (type hints) для лучшей читаемости.
	•	Применять шаблоны проектирования (Factory, Strategy, Adapter и т. д.), если это улучшает структуру.
	5.	Тестируемость
	•	Код должен быть легко покрываемым юнит-тестами.
	•	Избегать сложных цепочек вызовов, которые трудно мокировать.

# Схема базы данных с пояснениями

**Company** - каждый User может завести себе сколько угодно компаний
 - id
 - company_name
 - company_description
 - created
 - edited

**CompanyUsers** - связка пользователя и компании хранится тут, как и признак является ли он менеджером компании или ее владельцем. По умолчанию владелец и менеджер компании это ее создатель, он может дать права на менеджмент. Также может передать ownership другому пользователю
- id
- user_id
- company_id
- is_manager
- is_owner


**Teams** - к каждой Company может быть привязано сколько угодно команд
- id
- team_name
- team_description
- company_id
-  created
 - edited


**Users** - могут быть привязаны к любому количеству Teams
 - id
 - user_name
 - user_job
 - telegram_username
 - telegram_id
 - email

**TeamUsers** - связка пользователя и команды хранится тут, как и признак является ли он менеджером команды или ее владельцем. По умолчанию менеджер команды это ее создатель, он может дать права на менеджмент. Также может передать ownership другому пользователю
- id
- user_id
- team_id
- is_manager
- is_owner

**PerfReviews** - может запускать владелец и менеджер компании, по одному человеку или сразу на всех
 - id
 - user_id
 - team_id
 - created
 - edited

**Achievements** - достижения указываются либо самим User, либо могут быть указаны by manager/owner команды Team
 - id
 - perfreview_id
 - title - описание достижения
 - self_score - оценка от 1 до 5
 - reviewers [user_ids] - массив ревьюеров, user_ids, только внутри своей компании, выпадающий список, мультивыбор
 - created
 - edited

**AchievementsScores**
- id
- achievement_id
- user_id - ревьюер
- score - оценка от 1 до 5
- comment - комментарий ревьюера
- created
- edited


# Страницы

## Главная - 
промо с описанием и предложение войти или зарегистрироваться

## Войти - 
логин, пароль, кнопка "Войти", кнопка "Войти через одноразовую ссылку в телеграм" 

## Зарегистрироваться - 
классический набор полей регистрации, почта, имя, пароль, повторить пароль. Кнопка регистрация. Кнопка "Войти через одноразовую ссылку в телеграм" . Регистрация, аутентификация и авторизация - JWT, stateless

## Дашборд - 
### виджет управление компаниями, *курсивом - только для менеджера и владельца компании или команды*
- Компания 1
	- Команда 1 - *запустить перфревью на всю команду*
		- Никита, директор || менеджер || - *запустить перфревью, разжаловать из менеджеров команды, назначить менеджером компании**
		- Вова, дизайнер - *запустить перфревью, назначить менеджером команды, назначить менеджером компании*
		- *пригласить в команду...*
	- Команда 2- *запустить перфревью на всю команду*
		- *пригласить в команду...*
	 - *создать команду...*
 - создать компанию... - может любой пользователь и стать ее владельцем и менеджером

### виджет Перфревью
Перфревью, где я менеджер:
- Вова, дизайнер
- Виктор, программист
Перфревью, назначенные мне
- Никита, директор

## Страница перфревью
Имя
массив достижений, кнопка добавить достижение
возможность оценить достижение если ты в списке ревьюеров или менеджер или владелец